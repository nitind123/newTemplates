resources:
  - name: Sync_9494_006
    type: GitRepo
    configuration:
      gitProvider: s_gitHub
      path: {{.jfrog-pipelines.sourceRepository}}
      branches:
        include: {{gitBranch}}

pipelines:
  - name: PS_Sync_9494_006
    steps:
      - name: PS_Sync_9494_006_001
        type: Bash
        execution:
          onExecute:
            - cd /tmp
            - mkdir -p "node_modules/@jfrog-pipelines"
            - echo "test" >> node_modules/@jfrog-pipelines/test.txt
            - add_pipeline_files node_modules/@jfrog-pipelines jfrog_pipelines_packages_cache
      - name: PS_Sync_9494_006_002
        type: Bash
        configuration:
          inputResources: 
            - name : Sync_9494_006
          inputSteps:
            - name: PS_Sync_9494_006_001
        execution:
          onExecute:
            - cd /tmp
            - mkdir -p "target/node_modules"
            - cd target
            - restore_pipeline_files jfrog_pipelines_packages_cache node_modules/
